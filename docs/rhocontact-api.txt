# RhoContact API

Access a Device Contacts

Provides access to a device's phone book and contacts. For a code example, see the view and controller in the [/app/Contacts folder in the System API Samples](https://github.com/rhomobile/rhodes-system-api-samples/blob/master/app/Contacts/controller.rb) application.

## Enabling the Contacts

To use the RhoContact API, you need to enable read and write for the contacts on the device. Do this by adding that capability to the build.yml file:

	:::yaml
	capabilities:
	  - pim

## find

Returns the contacts in the device phone book.

	:::ruby
	find(contacts)

<table border="1">
<tr>
	<td><code>contacts</code></td>
	<td>:all - Return a hash of hashes of all the contacts. @params['id'] - return a hash of the properties of the contact identified by this id.</td>
</tr>
</table>

## create!

Create a new contact in the phonebook, setting its properties passed as a parameter hash.

	:::ruby
	create!(@params['contact'])

<table border="1">
<tr>
	<td><code>contact</code></td>
	<td>A hash containing the contact properties.</td>
</tr>
</table>

## destroy

Delete this contact from the phonebook.

	:::ruby
	delete(@params['id'])

<table border="1">
<tr>
	<td><code>id</code></td>
	<td>Delete the contact identified by this id</td>
</tr>
</table>

## update_attributes

Create a new contact in the phonebook, setting its properties passed as a parameter hash.

	:::ruby
	update_attributes(@params['contact'])

<table border="1">
<tr>
	<td><code>contact</code></td>
	<td>A hash containing the contact properties to change for this contact.</td>
</tr>
</table>

## Contact Properties

The contact properties are stored in a hash.

All devices support these properties: "id", "first_name", "last_name", "mobile_number", "home_number", "business_number", "email_address", "company_name".

The iPhone supports additional properites: "prefix", "first_name", "middle_name", "last_name", "suffix", "nickname", "birthday", "anniversary", "created", "updated", "company_name", "job_title", "assistant_name", "assistant_number", "spouse_name", "person_note". The "birthday", "anniversary", "created",  and "updated" properties use a string date formatted as YYYY-MM-DD.

Address properties: "street_address_1", "city_1", "state_1", "zip_1", "country_1" "street_address_2", "city_2", "state_2", "zip_2", "country_2" "street_address_3", "city_3", "state_3", "zip_3", "country_3". Address 1 is mapped to "work," 2 to "home," 3 to "other".

Email addresses: "email_address", "home_email_address", "other_email_address". "email_address" is mapped to "work".

Phone numbers: "business_number", "home_number", "mobile_number", "main_number", "pager_number", "home_fax", "work_fax".

Home pages: "home_page"
